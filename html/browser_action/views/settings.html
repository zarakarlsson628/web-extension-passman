<div class="alerts alert alert-warning" ng-if="errors.length > 0">
    <li ng-repeat="error in errors">{{error}}</li>
</div>

<h4 align="center">{{'please_enter_nextcloud_credentials' | translate}}:</h4>
<md-content layout-padding>
    <div layout-gt-sm="row">
        <md-input-container class="md-block" flex-gt-sm>
            <label>{{'server_url' | translate}}</label>
            <input ng-model="settings.nextcloud_host" required ng-debounce="1000">
        </md-input-container>
        <md-input-container class="md-block">
            <label>{{'username' | translate}}</label>
            <input ng-model="settings.nextcloud_username" required ng-debounce="1000">
        </md-input-container>

        <md-input-container class="md-block">
            <label>{{'password' | translate}}</label>
            <input type="password" ng-model="settings.nextcloud_password" required ng-debounce="1000">
        </md-input-container>

        <md-input-container class="md-block" ng-if="vaults">
            <label>{{'select_default_vault' | translate}}</label>
            <md-select ng-model="settings.default_vault.guid">
                <md-option ng-repeat="vault in vaults" value="{{vault.guid}}"
                           ng-selected="settings.default_vault.vault_id === vault.vault_id">
                    {{vault.name}}
                </md-option>
            </md-select>
        </md-input-container>
        <md-input-container class="md-block" ng-show="settings.default_vault != ''">
            <label>{{'vault_password' | translate}}</label>
            <input type="password" ng-model="settings.vault_password" required>
        </md-input-container>
        <md-input-container class="md-block">
            <label>{{'refresh_timer' | translate}}</label>
            <input type="text" ng-model="settings.refreshTime" required>
        </md-input-container>
        <md-input-container class="md-block">
            <md-switch class="md-primary" name="special" ng-model="settings.ignoreProtocol">
                {{'ignore_protocol' | translate}}
            </md-switch>
        </md-input-container>
        <md-input-container class="md-block">
            <md-switch class="md-primary" name="special" ng-model="settings.ignoreSubdomain">
                {{'ignore_subdomain' | translate}}
            </md-switch>
        </md-input-container>
        <md-input-container class="md-block">
            <md-switch class="md-primary" name="special" ng-model="settings.ignorePort">
                {{'ignore_port' | translate}}
            </md-switch>
        </md-input-container>
        <md-input-container class="md-block">
            <md-switch class="md-primary" name="special" ng-model="settings.disableAutoFill">
                {{'disable_autofill' | translate}}
            </md-switch>
        </md-input-container>
        <md-input-container class="md-block">
            <md-switch class="md-primary" name="special" ng-model="settings.disablePasswordPicker">
                {{'disable_password_picker' | translate}}
            </md-switch>
        </md-input-container>
        <md-input-container class="md-block">
            <md-switch class="md-primary" name="special" ng-model="settings.debug">
                {{'enable_debug' | translate}}
            </md-switch>
        </md-input-container>
        <div layout="row" layout-sm="column" layout-align="space-around">
            <md-button class="md-raised md-primary" ng-click="saveSettings()" ng-disabled="saving"></span>{{'save' |
                translate}}
            </md-button>
            <md-button class="md-raised" ng-click="cancel()">{{'cancel' | translate}}</md-button>
        </div>
    </div>
</md-content>
<!--    <table class="table">
        <tr>
            <td><small>{{'server_url' | translate}}:</small></td>
            <td><input type="url" class="form-control input-sm" id="host" ng-model="settings.nextcloud_host" required ng-debounce="1000">
            </td>
        </tr>
        <tr ng-if="settings.nextcloud_host.indexOf('http://') == 0">
            <td colspan=2><div class="alert alert-warning">Warning: This connection is insecure!</div></td>
        </tr>
        <tr>
            <td><small>{{'username' | translate}}:</small></td>
            <td><input type="text" class="form-control input-sm" id="user" ng-model="settings.nextcloud_username" required ng-debounce="1000"></td>
        </tr>
        <tr>
            <td><small>{{'password' | translate}}:</small></td>
            <td><input type="password" class="form-control input-sm" id="password" ng-model="settings.nextcloud_password" required ng-debounce="1000"></td>
        </tr>
        <tr class="login-req"  ng-if="vaults">
            <td><small>{{'select_default_vault' | translate}}:</small></td>
            <td><select id="defaultVault"  class="form-control input-sm" ng-model="settings.default_vault" required ng-options="vault.name for vault in vaults track by vault.guid"></select></td>
        </tr>
        <tr class="login-req" id="vaultPassRow" ng-show="settings.default_vault != ''">
            <td valign="top">
                <small>{{'vault_password' | translate}}</small>
            </td>
            <td>
                <input type="password" class="form-control input-sm" id="vaultPassword" ng-model="settings.vault_password">
            </td>
        </tr>
        <tr class="login-req">
            <td valign="top">
                <small>{{'ignored_sites' | translate}}</small>
            </td>
            <td>

               <ul class="ignored_sites">
                   <li ng-repeat="site in settings.ignored_sites">{{site}} <i class="fa fa-trash pull-right" ng-click="removeSite(site)"></i></li>
                   <li ng-show="settings.ignored_sites.length === 0">{{'no_sites_ignored' | translate}}</li>
                   <li><input type="text" class="form-control" placeholder="Enter a domain or tld" ng-model="ignoreSite" ng-enter="addSite(ignoreSite)"> </li>
               </ul>
            </td>
        </tr>
        <tr>
            <td><small>{{'refresh_timer' | translate}}:</small></td>
            <td><input type="text" id="timer" class="form-control input-sm" ng-model="settings.refreshTime"></td>
        </tr>
        <tr>
            <td colspan=2><input type="checkbox" id="ignoreProtocol" ng-model="settings.ignoreProtocol"><small>{{'ignore_protocol' | translate}}</small></td>
        </tr>
        <tr>
            <td colspan=2><input type="checkbox" id="ignoreSubdomain" ng-model="settings.ignoreSubdomain"><small>{{'ignore_subdomain' | translate}}</small></td>
        </tr>
        <tr>
            <td colspan=2><input type="checkbox" id="ignorePath" ng-model="settings.ignorePort"><small>{{'ignore_port' | translate}}</small></td>
        </tr>
        <tr>
            <td colspan=2><input type="checkbox" id="disableAutoFill" ng-model="settings.disableAutoFill"><small>{{'disable_autofill' | translate}}</small></td>
        </tr>
        <tr>
            <td colspan=2><input type="checkbox" id="disablePasswordPicker" ng-model="settings.disablePasswordPicker"><small>{{'disable_password_picker' | translate}}</small></td>
        </tr>
        <tr>
            <td colspan=2><input type="checkbox" id="enableDebug" ng-model="settings.debug"><small>{{'enable_debug' | translate}}</small></td>
        </tr>
        <tr>
            <td colspan=2 align="center">
                <button class="btn btn-success" ng-click="saveSettings()" ng-disabled="saving"><i ng-show="saving" ng-class="{'fa-spinner fa-spin': saving}" class="fa"></i> {{'save' | translate}}</button>
                <button class="btn btn-warning" ng-click="cancel()">{{'cancel' | translate}}</button>
            </td>
        </tr>
    </table> -->
<div class="version">
    {{extension}}
</div>

